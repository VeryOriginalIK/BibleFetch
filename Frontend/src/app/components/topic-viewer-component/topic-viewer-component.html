@if (vm$ | async; as vm) {
  <div class="topic-viewer">
    <header class="topic-hero" [style.background-color]="vm.topic.theme_color">
      <div class="hero-content">
        <a routerLink="/" class="back-btn">← Vissza</a>
        <h1>{{ vm.topic.titles.hu }}</h1>
        @if (vm.topic.description) {
          <p>{{ vm.topic.description.hu }}</p>
        }
      </div>
    </header>

    <div class="verses-container">
      @for (verse of vm.verses; track verse.label) {
        <div class="verse-card">
          <div class="verse-ref" [style.color]="vm.topic.theme_color">
            {{ verse.label }}
          </div>
          <app-verse-renderer [rawText]="verse.text"></app-verse-renderer>
        </div>
      }
    </div>
  </div>
} @else {
  <div class="loading-state">
    <div class="spinner"></div>
    <p>Téma betöltése...</p>
  </div>
}
